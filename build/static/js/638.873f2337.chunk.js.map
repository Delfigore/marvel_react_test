{"version":3,"file":"static/js/638.873f2337.chunk.js","mappings":"8LAsDA,UA1CmB,SAAHA,GAAiC,IAA3BC,EAASD,EAATC,UAAWC,EAAQF,EAARE,SACvBC,GAAOC,EAAAA,EAAAA,MAAPD,GACRE,GAAwBC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACpBI,GACEC,EAAAA,EAAAA,KADMC,EAAOF,EAAPE,QAASC,EAAKH,EAALG,MAAOC,EAAQJ,EAARI,SAAUC,EAAYL,EAAZK,aAAcC,EAAUN,EAAVM,YAGhDC,EAAAA,EAAAA,YAAU,WACRC,GACF,GAAG,CAAChB,IAEJ,IAAMgB,EAAa,WAGjB,OAFAF,IAEQf,GACN,IAAK,QACHa,EAASZ,GAAIiB,KAAKC,GAClB,MACF,IAAK,YACHL,EAAab,GAAIiB,KAAKC,GAE5B,EAEMA,EAAe,SAACZ,GACpBC,EAAQD,EACV,EAEMa,EAAeR,GAAQS,EAAAA,EAAAA,KAACC,EAAAA,EAAY,IAAM,KAC1CC,EAAUZ,GAAUU,EAAAA,EAAAA,KAACG,EAAAA,EAAO,IAAM,KAClCC,EAAYd,GAAWC,IAAUL,EAEnC,MADFc,EAAAA,EAAAA,KAACtB,EAAS,CAACQ,KAAMA,IAGnB,OACEmB,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEP,EAAAA,EAAAA,KAACQ,EAAAA,EAAS,IACTT,EACAG,EACAE,IAGP,C","sources":["components/pages/SinglePage.js"],"sourcesContent":["import { useParams } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nimport useMarvelService from \"../../services/MarvelService\";\r\nimport Spinner from \"../spinner/Spinner\";\r\nimport ErrorMessage from \"../errorMessage/ErrorMessage\";\r\nimport AppBanner from \"../appBanner/AppBanner\";\r\n\r\n// Хотелось бы вынести функцию по загрузке данных как отдельный аргумент\r\n// Но тогда мы потеряем связь со стэйтами загрузки и ошибки\r\n// А если вынесем их все в App.js - то они будут одни на все страницы\r\n\r\nconst SinglePage = ({ Component, dataType }) => {\r\n  const { id } = useParams();\r\n  const [data, setData] = useState(null);\r\n  const { loading, error, getComic, getCharacter, clearError } =\r\n    useMarvelService();\r\n\r\n  useEffect(() => {\r\n    updateData();\r\n  }, [id]);\r\n\r\n  const updateData = () => {\r\n    clearError();\r\n\r\n    switch (dataType) {\r\n      case \"comic\":\r\n        getComic(id).then(onDataLoaded);\r\n        break;\r\n      case \"character\":\r\n        getCharacter(id).then(onDataLoaded);\r\n    }\r\n  };\r\n\r\n  const onDataLoaded = (data) => {\r\n    setData(data);\r\n  };\r\n\r\n  const errorMessage = error ? <ErrorMessage /> : null;\r\n  const spinner = loading ? <Spinner /> : null;\r\n  const content = !(loading || error || !data) ? (\r\n    <Component data={data} />\r\n  ) : null;\r\n\r\n  return (\r\n    <>\r\n      <AppBanner />\r\n      {errorMessage}\r\n      {spinner}\r\n      {content}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SinglePage;\r\n"],"names":["_ref","Component","dataType","id","useParams","_useState","useState","_useState2","_slicedToArray","data","setData","_useMarvelService","useMarvelService","loading","error","getComic","getCharacter","clearError","useEffect","updateData","then","onDataLoaded","errorMessage","_jsx","ErrorMessage","spinner","Spinner","content","_jsxs","_Fragment","children","AppBanner"],"sourceRoot":""}